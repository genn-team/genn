<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>GeNN: Defining a network model</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../multi-language-utils.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="../../html_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">4.9.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/dc3/sectDefiningNetwork.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Defining a network model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> <div class='toggleable_div label_cpp' style='display: none;'> A network model is defined by the user by providing the function </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> modelDefinition(<a class="code" href="../../da/dfd/classModelSpec.html">ModelSpec</a> &amp;model) </div></div><!-- fragment --><p> in a separate file, such as <code>MyModel.cc</code>. In this function, the following tasks must be completed:  </div>  <div class='toggleable_div label_python' style='display: none;'> A network model is defined as follows:  </div></p><ol type="1">
<li> <span class='toggleable_div label_cpp' style='display: none;'>The name of the model must be defined</span><span class='toggleable_div label_python' style='display: none;'>A pygenn.GeNNModel must be created with a name and a default precision (see <a class="el" href="../../d0/da6/UserGuide.html#floatPrecision">Floating point precision</a>)</span>:  <div class='toggleable_div label_cpp' style='display: none;'><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#ada1aff7a94eeb36dff721f09d5cf94b4">setName</a>(<span class="stringliteral">&quot;MyModel&quot;</span>);</div></div><!-- fragment --> </div>  <div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">model = GeNNModel(<span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;YourModelName&quot;</span>)</div></div><!-- fragment --> By default the model will use a hardware-accelerated code-generation backend if it is available. However, this can be overriden using the <code>backend</code> keyword argument. For example, the single-threaded CPU backend could be manually selected with: <div class="fragment"><div class="line">model = GeNNModel(<span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;YourModelName&quot;</span>, </div><div class="line">                  backend=<span class="stringliteral">&quot;SingleThreadedCPU&quot;</span>)</div></div><!-- fragment -->  </div></li>
<li>Neuron populations (at least one) must be added (see <a class="el" href="../../df/dc3/sectDefiningNetwork.html#subsect11">Defining neuron populations</a>). The user may add as many neuron populations as they wish. However, before this breaking point is reached, GeNN will make all necessary efforts in terms of block size optimisation to accommodate the defined models. All populations must have a unique name.</li>
<li>Synapse populations (zero or more) can be added (see <a class="el" href="../../df/dc3/sectDefiningNetwork.html#subsect12">Defining synapse populations</a>).</li>
<li>Current sources (zero or more) can be added to neuron populations (see <a class="el" href="../../df/dc3/sectDefiningNetwork.html#defining_current_source">Defining current sources</a>).</li>
<li>Custom updates (zero or more) can be added (see <a class="el" href="../../df/dc3/sectDefiningNetwork.html#defining_custom_updates">Defining custom updates</a>).</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>If your model requires more memory than your GPU has available, there will be a warning but GeNN will not fail.</dd></dl>
<h1><a class="anchor" id="subsect11"></a>
Defining neuron populations</h1>
<p>Neuron populations are added using the function  <div class='toggleable_div label_cpp' style='display: none;'></p><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#ad990a7f4af4616daf1ba633133616269">addNeuronPopulation</a>&lt;NeuronModel&gt;(name, num, paramValues, varInitialisers);</div></div><!-- fragment --><p> </div>  <div class='toggleable_div label_python' style='display: none;'></p><div class="fragment"><div class="line">model.add_neuron_population(pop_name, num_neurons, neuron, param_space, var_space)</div></div><!-- fragment --><p> </div> where the arguments are: </p><ul>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>NeuronModel</code>: Template argument specifying the type of neuron model. These should be derived off <a class="el" href="../../d7/dad/classNeuronModels_1_1Base.html" title="Base class for all neuron models. ">NeuronModels::Base</a> and can either be one of the standard models or user-defined </span><span class='toggleable_div label_python' style='display: none;'><code>neuron</code>: The type of neuron model. This should either be a string containing the name of a built in model or user-defined neuron type returned by <a class="el" href="../../de/d6e/namespacepygenn_1_1genn__model.html#a80f3b56cb2dc934ea04ed15a629c7db9" title="This helper function creates a custom NeuronModel class. ">pygenn.genn_model.create_custom_neuron_class</a> </span> (see <a class="el" href="../../de/ded/sectNeuronModels.html">Neuron models</a>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;name</code> </span><span class='toggleable_div label_python' style='display: none;'><code>pop_name</code> </span>: Unique name of the neuron population </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>unsigned int size</code> </span><span class='toggleable_div label_python' style='display: none;'><code>num_neurons</code> </span>: number of neurons in the population </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>NeuronModel::ParamValues paramValues</code>: Parameters </span><span class='toggleable_div label_python' style='display: none;'> <code>param_space</code>: Dictionary containing parameters </span> of this neuron type </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>NeuronModel::VarValues varInitialisers</code>: Initial </span><span class='toggleable_div label_python' style='display: none;'> <code>var_space</code>: Dictionary containing initial </span> values or initialisation snippets for variables of this neuron type (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>)</li>
</ul>
<p>The user may add as many neuron populations as the model necessitates. They must all have unique names. The possible values for the arguments, predefined models and their parameters and initial values are detailed <a class="el" href="../../de/ded/sectNeuronModels.html">Neuron models</a> below.</p>
<h1><a class="anchor" id="subsect12"></a>
Defining synapse populations</h1>
<p>Synapse populations are added with the function  <div class='toggleable_div label_cpp' style='display: none;'></p><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#abd4e9128a5d4f5f993907134218af0c2">addSynapsePopulation</a>&lt;WeightUpdateModel, PostsynapticModel&gt;(name, mType, delay, preName, postName, </div><div class="line">                                                                 weightParamValues, weightVarValues, weightPreVarInitialisers, weightPostVarInitialisers,</div><div class="line">                                                                 postsynapticParamValues, postsynapticVarValues, connectivityInitialiser);</div></div><!-- fragment --><p> </div>  <div class='toggleable_div label_python' style='display: none;'></p><div class="fragment"><div class="line">model.add_synapse_population(pop_name, matrix_type, delay_steps,</div><div class="line">                             source, target, w_update_model, wu_param_space,</div><div class="line">                             wu_var_space, wu_pre_var_space,</div><div class="line">                             wu_post_var_space, postsyn_model,</div><div class="line">                             ps_param_space, ps_var_space,</div><div class="line">                             connectivity_initialiser</div></div><!-- fragment --><p> </div> where the arguments are </p><ul>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>WeightUpdateModel</code>: Template parameter specifying the type of weight update model. These should be derived off <a class="el" href="../../d2/d05/classWeightUpdateModels_1_1Base.html" title="Base class for all weight update models. ">WeightUpdateModels::Base</a> and can either be one of the standard models or user-defined </span><span class='toggleable_div label_python' style='display: none;'><code>w_update_model</code>: The type of weight update model. This should either be a string containing the name of a built in model or user-defined weight update model returned by <a class="el" href="../../de/d6e/namespacepygenn_1_1genn__model.html#a7c2e854789f74d6ffd92be2a487a0e5b" title="This helper function creates a custom WeightUpdateModel class. ">pygenn.genn_model.create_custom_weight_update_class</a> </span> (see <a class="el" href="../../d5/d24/sectSynapseModels.html">Weight update models</a>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>PostsynapticModel</code>: Template parameter specifying the type of postsynaptic integration model. These should be derived off <a class="el" href="../../d1/d3a/classPostsynapticModels_1_1Base.html" title="Base class for all postsynaptic models. ">PostsynapticModels::Base</a> and can either be one of the standard models or user-defined </span><span class='toggleable_div label_python' style='display: none;'><code>postsyn_model</code>: The type of postsynaptic model. This should either be a string containing the name of a built in model or user-defined postsynaptic model returned by <a class="el" href="../../de/d6e/namespacepygenn_1_1genn__model.html#a61c75fa163260aca5c4bded3d6854d2f" title="This helper function creates a custom PostsynapticModel class. ">pygenn.genn_model.create_custom_postsynaptic_class</a> </span> (see <a class="el" href="../../dd/de4/sect_postsyn.html">Postsynaptic integration methods</a>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;name</code> </span><span class='toggleable_div label_python' style='display: none;'><code>pop_name</code> </span>: The name of the synapse population </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code><a class="el" href="../../dd/dd5/synapseMatrixType_8h.html#a24a045033b9a7e987843a67ff5ddec9c" title="Supported combinations of SynapticMatrixConnectivity and SynapticMatrixWeight. ">SynapseMatrixType</a> mType</code>: How </span><span class='toggleable_div label_python' style='display: none;'><code>matrix_type</code>: String specifying how </span> the synaptic matrix is stored. See <a class="el" href="../../d5/d39/subsect34.html">Synaptic matrix types</a> for available options. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>unsigned int delay</code> </span><span class='toggleable_div label_python' style='display: none;'><code>delay_steps</code> </span>: Homogeneous (axonal) delay for synapse population (in terms of the simulation time step <code>DT</code>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string preName</code>: Name </span><span class='toggleable_div label_python' style='display: none;'> <code>source</code>: pygenn.NeuronGroup or name </span> of the (existing!) presynaptic neuron population. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string postName</code>: Name </span><span class='toggleable_div label_python' style='display: none;'> <code>target</code>: pygenn.NeuronGroup or name </span> of the (existing!) postsynaptic neuron population. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>WeightUpdateModel::ParamValues weightParamValues</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>wu_param_space</code>: Dictionary containing the </span> parameter values (common to all synapses of the population) for the weight update model. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'>`<code>WeightUpdateModel::VarValues weightVarInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>wu_var_space</code>: Dictionary containing the </span> initial values or initialisation snippets for the weight update model's state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>WeightUpdateModel::PreVarValues weightPreVarInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>wu_pre_var_space</code>: Dictionary containing the </span> initial values or initialisation snippets for the weight update model's presynaptic state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>WeightUpdateModel::PostVarValues weightPostVarInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>wu_post_var_space</code>: Dictionary containg the </span> initial values or initialisation snippets for the weight update model's postsynaptic state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>PostsynapticModel::ParamValues postsynapticParamValues</code>: The </span><span class='toggleable_div label_python' style='display: none;'><code>ps_param_space</code>: Dictionary containing the </span> parameter values (common to all postsynaptic neurons) for the postsynaptic model. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>PostsynapticModel::VarValues postsynapticVarInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>ps_var_space</code>: Dictionary containing the </span> initial values or initialisation snippets for variables for the postsynaptic model's state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code><a class="el" href="../../d2/d7f/classInitSparseConnectivitySnippet_1_1Init.html">InitSparseConnectivitySnippet::Init</a> connectivityInitialiser</code> </span><span class='toggleable_div label_python' style='display: none;'><code>connectivity_initialiser</code> </span>: Optional argument, specifying the initialisation snippet for synapse population's sparse connectivity (see <a class="el" href="../../d5/dd4/sectSparseConnectivityInitialisation.html">Sparse connectivity initialisation</a>).</li>
</ul>
<p> <div class='toggleable_div label_cpp' style='display: none;'> The <a class="el" href="../../da/dfd/classModelSpec.html#abd4e9128a5d4f5f993907134218af0c2" title="Adds a synapse population to the model using weight update and postsynaptic models managed by the use...">ModelSpec::addSynapsePopulation()</a> function returns a pointer to the newly created <a class="el" href="../../dc/dfa/classSynapseGroup.html">SynapseGroup</a> object which can be further configured, namely with:</p><ul>
<li><a class="el" href="../../dc/dfa/classSynapseGroup.html#aab6b2fb0ad30189bc11ee3dd7d48dbb2" title="Sets the maximum number of target neurons any source neurons can connect to. ">SynapseGroup::setMaxConnections()</a> and <a class="el" href="../../dc/dfa/classSynapseGroup.html#a93b12c08d634f1a2300f1b91ef34ea24" title="Sets the maximum number of source neurons any target neuron can connect to. ">SynapseGroup::setMaxSourceConnections()</a> to configure the maximum number of rows and columns respectively allowed in the synaptic matrix - this can improve performance and reduce memory usage when using <a class="el" href="../../dd/dd5/synapseMatrixType_8h.html#aedb0946699027562bc78103a5d2a578da0459833ba9cad7cfd7bbfe10d7bbbe6e">SynapseMatrixConnectivity::SPARSE</a> connectivity (see <a class="el" href="../../d5/d39/subsect34.html">Synaptic matrix types</a>). <dl class="section note"><dt>Note</dt><dd>When using a sparse connectivity initialisation snippet, these values are set automatically.</dd></dl>
</li>
<li><a class="el" href="../../dc/dfa/classSynapseGroup.html#a220307d4043e8bf1bed07552829f2a17" title="Sets the maximum dendritic delay for synapses in this synapse group. ">SynapseGroup::setMaxDendriticDelayTimesteps()</a> sets the maximum dendritic delay (in terms of the simulation time step <code>DT</code>) allowed for synapses in this population. No values larger than this should be passed to the delay parameter of the <code>addToDenDelay</code> function in user code (see <a class="el" href="../../d5/d24/sectSynapseModels.html#sect34">Defining a new weight update model</a>).</li>
<li><a class="el" href="../../dc/dfa/classSynapseGroup.html#a97cfec638d856e6e07628bc19490690c" title="Set how CUDA implementation is parallelised. ">SynapseGroup::setSpanType()</a> sets how incoming spike processing is parallelised for this synapse group. The default <a class="el" href="../../dc/dfa/classSynapseGroup.html#a3da23a0e726b05a12e95c3d58645b1a2a39711e1ac5d5263471a6184f362dc02f">SynapseGroup::SpanType::POSTSYNAPTIC</a> is nearly always the best option, but <a class="el" href="../../dc/dfa/classSynapseGroup.html#a3da23a0e726b05a12e95c3d58645b1a2ac583511247567bdc79915d057babba12">SynapseGroup::SpanType::PRESYNAPTIC</a> may perform better when there are large numbers of spikes every timestep or very few postsynaptic neurons.}</li>
<li><a class="el" href="../../dc/dfa/classSynapseGroup.html#ad8d501a0113764179ef7ee46e4111178" title="Set name of neuron input variable postsynaptic model will target. ">SynapseGroup::setPSTargetVar()</a> sets the additional input variable (or standard "Isyn") on the postsynaptic neuron population where input from this synapse group is routed (see section <a class="el" href="../../de/ded/sectNeuronModels.html#neuron_additional_input">Additional input variables</a>).</li>
<li><a class="el" href="../../dc/dfa/classSynapseGroup.html#ae67a3a99867ab771b6a34a04cfac8ca8" title="Set name of neuron input variable $(addToPre, . ) commands will target. ">SynapseGroup::setPreTargetVar()</a> sets the additional input variable (or standard "Isyn") on the presynaptic neuron population where input provided from this synapse group via $(addToPre,...) is routed (see section <a class="el" href="../../de/ded/sectNeuronModels.html#neuron_additional_input">Additional input variables</a> and <a class="el" href="../../d5/d24/sectSynapseModels.html#sect34">Defining a new weight update model</a>).  </div>  <div class='toggleable_div label_python' style='display: none;'> The <a class="el" href="../../db/d57/classpygenn_1_1genn__model_1_1GeNNModel.html#ab573f92c82ec25d5c80f94070b6008c0" title="Add a synapse population to the GeNN model. ">pygenn.GeNNModel.add_synapse_population</a> function returns a pygenn.SynapseGroup object which can be further configured, namely with:</li>
<li><a class="el" href="../../d5/d49/classpygenn_1_1genn__groups_1_1SynapseGroup.html#a290bd9f4ba4bddcd743c6adaad66d789" title="Gets name of neuron input variable postsynaptic model will target. ">pygenn.SynapseGroup.ps_target_var</a> sets the additional input variable (or standard "Isyn") on the postsynaptic neuron population where input from this synapse group is routed (see section <a class="el" href="../../de/ded/sectNeuronModels.html#neuron_additional_input">Additional input variables</a>).  </div></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If the synapse matrix uses one of the "GLOBALG" types then the global value of the synapse parameters are taken from the initial value provided in <code>weightVarInitialisers</code> therefore these must be constant rather than sampled from a distribution etc.</dd></dl>
<h1><a class="anchor" id="defining_current_source"></a>
Defining current sources</h1>
<p>Current sources are added with the function  <div class='toggleable_div label_cpp' style='display: none;'></p><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#aaf260ae8ffd52473b61a27974867c3e3">addCurrentSource</a>&lt;CurrentSourceModel&gt;(currentSourceName, targetNeuronGroupName, </div><div class="line">                                           paramValues, varInitialisers);</div></div><!-- fragment --><p> </div>  <div class='toggleable_div label_python' style='display: none;'></p><div class="fragment"><div class="line">model.add_current_source(cs_name, current_source_model, pop,</div><div class="line">                         param_space, var_space)</div></div><!-- fragment --><p> </div> where the arguments are </p><ul>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CurrentSourceModel</code>: Template parameter specifying the type of current source model. These should be derived off <a class="el" href="../../d0/de0/classCurrentSourceModels_1_1Base.html" title="Base class for all current source models. ">CurrentSourceModels::Base</a> and can either be one of the standard models or user-defined </span><span class='toggleable_div label_python' style='display: none;'><code>current_source_model</code>: The type of current source model. This should either be a string containing the name of a built in model or user-defined current source model returned by <a class="el" href="../../de/d6e/namespacepygenn_1_1genn__model.html#a1cd795d295c4cc4f05968f04dbf5b9d3" title="This helper function creates a custom NeuronModel class. ">pygenn.genn_model.create_custom_current_source_class</a> </span> (see <a class="el" href="../../d0/d1e/sectCurrentSourceModels.html#sect_own_current_source">Defining your own current source model</a>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;currentSourceName</code> </span><span class='toggleable_div label_python' style='display: none;'><code>cs_name</code> </span>: The name of the current source </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;targetNeuronGroupName</code>: Name of the target neuron group </span><span class='toggleable_div label_python' style='display: none;'><code>pop</code>: Population into which the current source should be injected (either name or <a class="el" href="../../d7/d3b/classNeuronGroup.html">NeuronGroup</a> object) </span> </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CurrentSourceModel::ParamValues paramValues</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>param_space</code>: Dictionary containing the </span> parameter values (common to all current sources in the population) for the current source model. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'>`<code>CurrentSourceModel::VarValues varInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>var_space</code>: Dictionary containing the </span> initial values or initialisation snippets for the current source model's state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) <dl class="section note"><dt>Note</dt><dd>The number of current sources in a population always equals the number of neurons in the population it injects current into.</dd></dl>
</li>
</ul>
<h1><a class="anchor" id="defining_custom_updates"></a>
Defining custom updates</h1>
<p>Custom updates are added with the function  <div class='toggleable_div label_cpp' style='display: none;'></p><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#ae1e09dbff0ef60596be33c9e0d2d81fd">addCustomUpdate</a>&lt;CustomUpdateModel&gt;(name, updateGroupName,</div><div class="line">                                         paramValues, varInitialisers, varReferences, egpReferences)</div></div><!-- fragment --><p> </div>  <div class='toggleable_div label_python' style='display: none;'></p><div class="fragment"><div class="line">model.add_custom_update(cu_name, group_name, custom_update_model,</div><div class="line">                        param_space, var_space, var_ref_space, egp_ref_space)</div></div><!-- fragment --><p> </div> where the arguments are </p><ul>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CustomUpdateModel</code>: Template parameter specifying the type of custom update model. These should be derived off <a class="el" href="../../de/db4/classCustomUpdateModels_1_1Base.html" title="Base class for all current source models. ">CustomUpdateModels::Base</a> and can either be one of the standard models or user-defined </span><span class='toggleable_div label_python' style='display: none;'><code>custom_update_model</code>: The type of custom update model. This should either be a string containing the name of a built in model or user-defined custom update model returned by <a class="el" href="../../de/d6e/namespacepygenn_1_1genn__model.html#ac1d5cb1194a206da3632487aee6dcf08" title="This helper function creates a custom CustomUpdate class. ">pygenn.genn_model.create_custom_custom_update_class</a> </span> (see <a class="el" href="../../d7/d98/sectCustomUpdate.html#sect_own_custom_update">Defining your own custom update model</a>). </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;name</code> </span><span class='toggleable_div label_python' style='display: none;'><code>cu_name</code> </span>: The name of the custom update </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>const string &amp;updateGroupName</code> </span><span class='toggleable_div label_python' style='display: none;'><code>group_name</code> </span>: The name of the group this custom update belongs to. Updates in each group can be launched as described in <a class="el" href="../../d0/da6/UserGuide.html#Simulate">Simulating a network model</a>. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CustomUpdateModel::ParamValues paramValues</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>param_space</code>: Dictionary containing the </span> parameter values (common to all custom updates in the population) for the custom update model. </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CustomUpdateModel::VarValues varInitialisers</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>var_space</code>: Dictionary containing the </span> initial values or initialisation snippets for the custom update model's state variables (see <a class="el" href="../../d4/dc6/sectVariableInitialisation.html">Variable initialisation</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CustomUpdateModel::VarReferences varReferences</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>var_ref_space</code>: Dictionary containing the </span> variable references for the custom update model (see <a class="el" href="../../de/d23/sectReferences.html#sectVariableReferences">Variable references</a>) </li>
<li> <span class='toggleable_div label_cpp' style='display: none;'><code>CustomUpdateModel::EGPReferences egpReferences</code>: The </span><span class='toggleable_div label_python' style='display: none;'> <code>egp_ref_space</code>: Dictionary containing the </span> extra global parameter references for the custom update model (see <a class="el" href="../../de/d23/sectReferences.html#sectEGPReferences">Extra Global Parameter references</a>)</li>
</ul>
<h1><a class="anchor" id="batching"></a>
Batching</h1>
<p>When running models on a GPU, smaller models may not fully occupy the device. In some scenerios such as gradient-based training and parameter sweeping, this can be overcome by runing multiple copies of the same model at the same time (batching in Machine Learning speak). Batching can be enabled on a GeNN model with:  <div class='toggleable_div label_cpp' style='display: none;'></p><div class="fragment"><div class="line">model.<a class="code" href="../../da/dfd/classModelSpec.html#adb09e23344a1534409756919123b7ab0">setBatchSize</a>(512);</div></div><!-- fragment --><p> </div>  <div class='toggleable_div label_python' style='display: none;'></p><div class="fragment"><div class="line">model.batch_size = 512</div></div><!-- fragment --><p> </div> Model parameters and sparse connectivity are shared across all batches. Read-write state variables are duplicated for each batch and, by default, read-only state variables are shared across all batches (see section <a class="el" href="../../de/ded/sectNeuronModels.html">Neuron models</a> for more details). </p><hr/>
<p> <a class="el" href="../../dc/d05/UserManual.html">Previous</a> | <a class="el" href="../../df/dc3/sectDefiningNetwork.html">Top</a> | <a class="el" href="../../de/ded/sectNeuronModels.html">Next</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d05/UserManual.html">User Manual</a></li>
    <li class="footer">Generated on Wed Oct 11 2023 10:51:15 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
<script type="text/javascript">
//<![CDATA[
addLanguageToggleButtons();
//]]>
</script>
</body>
</html>
