<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>GeNN: InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../multi-language-utils.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="../../html_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">4.6.0</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d9/d39/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/d51/initSparseConnectivitySnippet_8h_source.html">initSparseConnectivitySnippet.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.png" usemap="#InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement_map" alt=""/>
  <map id="InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement_map" name="InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement_map">
<area href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html" alt="InitSparseConnectivitySnippet::Base" shape="rect" coords="0,56,384,80"/>
<area href="../../db/d97/classSnippet_1_1Base.html" title="Base class for all code snippets. " alt="Snippet::Base" shape="rect" coords="0,0,384,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa6c0a2e7d4e42942d3f8330100c2b375"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#aa6c0a2e7d4e42942d3f8330100c2b375">DECLARE_SNIPPET</a> (<a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement</a>, 1)</td></tr>
<tr class="separator:aa6c0a2e7d4e42942d3f8330100c2b375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604326a37737e61daf5d595a0c6716b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#a604326a37737e61daf5d595a0c6716b7">SET_ROW_BUILD_CODE</a> (&quot;if(c == 0) {\ &quot; $(endRow);\&quot; &quot;}\&quot; &quot;const scalar u=$(gennrand_uniform);\&quot; &quot;x+=(1.0 - x) *(1.0 - pow(u, 1.0/(scalar) c));\&quot; &quot;unsigned int postIdx=(unsigned int)(x *$(num_post));\&quot; &quot;postIdx=(postIdx&lt; $(num_post)) ? postIdx :($(num_post) - 1);\&quot; &quot;$(addSynapse, postIdx+$(id_post_begin));\&quot; &quot;c--;\&quot;)</td></tr>
<tr class="separator:a604326a37737e61daf5d595a0c6716b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b78d28269520a28e05111b5ae5704f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#a3b78d28269520a28e05111b5ae5704f1">SET_ROW_BUILD_STATE_VARS</a> ({{&quot;x&quot;, &quot;scalar&quot;, 0.0},{&quot;c&quot;, &quot;unsigned int&quot;, &quot;$(preCalcRowLength)[($(id_pre) * $(num_threads)) + $(id_thread)]&quot;}})</td></tr>
<tr class="separator:a3b78d28269520a28e05111b5ae5704f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8132e22b41f3db4e020a154ecb10aa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a06cd0f6da1424a20163e12b6fec62519">StringVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#adf8132e22b41f3db4e020a154ecb10aa">getParamNames</a> () const override</td></tr>
<tr class="memdesc:adf8132e22b41f3db4e020a154ecb10aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets names of of (independent) model parameters.  <a href="#adf8132e22b41f3db4e020a154ecb10aa">More...</a><br /></td></tr>
<tr class="separator:adf8132e22b41f3db4e020a154ecb10aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53fe67e14bdbd968a8544297a67201a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a43ece29884e2c6cabffe9abf985807c6">EGPVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#ac53fe67e14bdbd968a8544297a67201a">getExtraGlobalParams</a> () const override</td></tr>
<tr class="separator:ac53fe67e14bdbd968a8544297a67201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6ac73f77079773a45f7542fc642cca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#aac6ac73f77079773a45f7542fc642cca">SET_HOST_INIT_CODE</a> (&quot;// Allocate pre-calculated row length array\ &quot;$(allocatepreCalcRowLength, $(num_pre) *$(num_threads));\&quot; &quot;//Calculate row lengths\&quot; &quot;const size_t numPostPerThread=($(num_post)+$(num_threads) - 1)/$(num_threads);\&quot; &quot;const size_t leftOverNeurons=$(num_post) % numPostPerThread;\&quot; &quot;size_t remainingConnections=$(total);\&quot; &quot;size_t matrixSize=(size_t)$(num_pre) *(size_t)$(num_post);\&quot; &quot;uint16_t *subRowLengths=$(preCalcRowLength);\&quot; &quot;//Loop through rows\&quot; &quot;for(size_t i=0;i&lt; $(num_pre);i++) {\&quot; &quot; const bool lastPre=(i==($(num_pre) - 1));\&quot; &quot;//Loop through subrows\&quot; &quot; for(size_t j=0;j&lt; $(num_threads);j++) {\&quot; &quot; const bool lastSubRow=(j==($(num_threads) - 1));\&quot; &quot;//If this isn 't the last sub-row of the matrix\&quot; &quot; if(!lastPre||! lastSubRow) {\&quot; &quot;//Get length of this subrow\&quot; &quot; const unsigned int numSubRowNeurons=(leftOverNeurons !=0 &amp;&amp;lastSubRow) ? leftOverNeurons :numPostPerThread;\&quot; &quot;//Calculate probability\&quot; &quot; const double probability=(double) numSubRowNeurons/(double) matrixSize;\&quot; &quot;//Create distribution to sample row length\&quot; &quot; std::binomial_distribution&lt; size_t &gt; rowLengthDist(remainingConnections, probability);\&quot; &quot;//Sample row length;\&quot; &quot; const size_t subRowLength=rowLengthDist($(rng));\&quot; &quot;//Update counters\&quot; &quot; remainingConnections -=subRowLength;\&quot; &quot; matrixSize -=numSubRowNeurons;\&quot; &quot;//Add row length to array\&quot; &quot; assert(subRowLength&lt; std::numeric_limits&lt; uint16_t &gt;::max());\&quot; &quot; *subRowLengths++=(uint16_t) subRowLength;\&quot; &quot; }\&quot; &quot; }\&quot; &quot;}\&quot; &quot;//Insert remaining connections into last sub-row\&quot; &quot; *subRowLengths=(uint16_t) remainingConnections;\&quot; &quot;//Push populated row length array\&quot; &quot;$(pushpreCalcRowLength, $(num_pre) *$(num_threads));\&quot;)</td></tr>
<tr class="separator:aac6ac73f77079773a45f7542fc642cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2689ac6fa54fc27788211df703f7cc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#ad2689ac6fa54fc27788211df703f7cc4">SET_CALC_MAX_ROW_LENGTH_FUNC</a> ([](unsigned int numPre, unsigned int numPost, const std::vector&lt; double &gt; &amp;pars) { const double quantile=pow(0.9999, 1.0/(double) numPre);return <a class="el" href="../../d6/d24/binomial_8cc.html#a620a939ae672f5750398dcfa48e288be">binomialInverseCDF</a>(quantile,(unsigned int) pars[0],(double) numPost/((double) numPre *(double) numPost));})</td></tr>
<tr class="separator:ad2689ac6fa54fc27788211df703f7cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86200bb64b2dc0bae13735fa8a311cc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html#a86200bb64b2dc0bae13735fa8a311cc5">SET_CALC_MAX_COL_LENGTH_FUNC</a> ([](unsigned int numPre, unsigned int numPost, const std::vector&lt; double &gt; &amp;pars) { const double quantile=pow(0.9999, 1.0/(double) numPost);return <a class="el" href="../../d6/d24/binomial_8cc.html#a620a939ae672f5750398dcfa48e288be">binomialInverseCDF</a>(quantile,(unsigned int) pars[0],(double) numPre/((double) numPre *(double) numPost));})</td></tr>
<tr class="separator:a86200bb64b2dc0bae13735fa8a311cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classInitSparseConnectivitySnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html">InitSparseConnectivitySnippet::Base</a></td></tr>
<tr class="memitem:ac2bab66afe84325ad9d1752910d08981 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ac2bab66afe84325ad9d1752910d08981">getRowBuildCode</a> () const</td></tr>
<tr class="separator:ac2bab66afe84325ad9d1752910d08981 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9419211b940a9c51fbd6450747e1fc5 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a0156727ddf8f9c9cbcbc0d3d913b6b48">ParamValVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#af9419211b940a9c51fbd6450747e1fc5">getRowBuildStateVars</a> () const</td></tr>
<tr class="separator:af9419211b940a9c51fbd6450747e1fc5 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a948a6ba451b8bca5a02cb6793571fa inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a4a948a6ba451b8bca5a02cb6793571fa">getColBuildCode</a> () const</td></tr>
<tr class="separator:a4a948a6ba451b8bca5a02cb6793571fa inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79abaeecc67921128862995dcedf599d inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a0156727ddf8f9c9cbcbc0d3d913b6b48">ParamValVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a79abaeecc67921128862995dcedf599d">getColBuildStateVars</a> () const</td></tr>
<tr class="separator:a79abaeecc67921128862995dcedf599d inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4684e7647110810a647bcbccbcaaa83 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ad4684e7647110810a647bcbccbcaaa83">getHostInitCode</a> () const</td></tr>
<tr class="separator:ad4684e7647110810a647bcbccbcaaa83 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf7c23440db65582ddac36f903fcd5e inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a7719c85cf11d180023fa955ec86a4204">CalcMaxLengthFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a7cf7c23440db65582ddac36f903fcd5e">getCalcMaxRowLengthFunc</a> () const</td></tr>
<tr class="memdesc:a7cf7c23440db65582ddac36f903fcd5e inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get function to calculate the maximum row length of this connector based on the parameters and the size of the pre and postsynaptic population.  <a href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a7cf7c23440db65582ddac36f903fcd5e">More...</a><br /></td></tr>
<tr class="separator:a7cf7c23440db65582ddac36f903fcd5e inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4f6cb6d90ae7ce97f8c6792c16d32d inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a7719c85cf11d180023fa955ec86a4204">CalcMaxLengthFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a0e4f6cb6d90ae7ce97f8c6792c16d32d">getCalcMaxColLengthFunc</a> () const</td></tr>
<tr class="memdesc:a0e4f6cb6d90ae7ce97f8c6792c16d32d inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get function to calculate the maximum column length of this connector based on the parameters and the size of the pre and postsynaptic population.  <a href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a0e4f6cb6d90ae7ce97f8c6792c16d32d">More...</a><br /></td></tr>
<tr class="separator:a0e4f6cb6d90ae7ce97f8c6792c16d32d inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3814bd7aa3006cbdc4c8d80e656a0e6 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a5b924d2ef2001967702e892322b135e1">CalcKernelSizeFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ae3814bd7aa3006cbdc4c8d80e656a0e6">getCalcKernelSizeFunc</a> () const</td></tr>
<tr class="memdesc:ae3814bd7aa3006cbdc4c8d80e656a0e6 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get function to calculate kernel size required for this conenctor based on its parameters.  <a href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ae3814bd7aa3006cbdc4c8d80e656a0e6">More...</a><br /></td></tr>
<tr class="separator:ae3814bd7aa3006cbdc4c8d80e656a0e6 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb5a956f72fbbc02458ba87ec6dc7b0 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">boost::uuids::detail::sha1::digest_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#afcb5a956f72fbbc02458ba87ec6dc7b0">getHashDigest</a> () const</td></tr>
<tr class="memdesc:afcb5a956f72fbbc02458ba87ec6dc7b0 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update hash from snippet.  <a href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#afcb5a956f72fbbc02458ba87ec6dc7b0">More...</a><br /></td></tr>
<tr class="separator:afcb5a956f72fbbc02458ba87ec6dc7b0 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1be788ee0f0188567597eddf27c9229 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ad1be788ee0f0188567597eddf27c9229">validate</a> () const</td></tr>
<tr class="memdesc:ad1be788ee0f0188567597eddf27c9229 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate names of parameters etc.  <a href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#ad1be788ee0f0188567597eddf27c9229">More...</a><br /></td></tr>
<tr class="separator:ad1be788ee0f0188567597eddf27c9229 inherit pub_methods_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../db/d97/classSnippet_1_1Base.html">Snippet::Base</a></td></tr>
<tr class="memitem:a17a9ca158277401f2c190afb1e791d1f inherit pub_methods_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a17a9ca158277401f2c190afb1e791d1f">~Base</a> ()</td></tr>
<tr class="separator:a17a9ca158277401f2c190afb1e791d1f inherit pub_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450c7783570d875e19bcd8a88d10bbf6 inherit pub_methods_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#ad14217cebf11eddffa751a4d5c4792cb">DerivedParamVec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a450c7783570d875e19bcd8a88d10bbf6">getDerivedParams</a> () const</td></tr>
<tr class="separator:a450c7783570d875e19bcd8a88d10bbf6 inherit pub_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255afab75f23b3e49f14b13f413b23aa inherit pub_methods_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a255afab75f23b3e49f14b13f413b23aa">getExtraGlobalParamIndex</a> (const std::string &amp;paramName) const</td></tr>
<tr class="memdesc:a255afab75f23b3e49f14b13f413b23aa inherit pub_methods_classSnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the index of a named extra global parameter.  <a href="../../db/d97/classSnippet_1_1Base.html#a255afab75f23b3e49f14b13f413b23aa">More...</a><br /></td></tr>
<tr class="separator:a255afab75f23b3e49f14b13f413b23aa inherit pub_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classInitSparseConnectivitySnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classInitSparseConnectivitySnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html">InitSparseConnectivitySnippet::Base</a></td></tr>
<tr class="memitem:a7719c85cf11d180023fa955ec86a4204 inherit pub_types_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; unsigned int(unsigned int, unsigned int, const std::vector&lt; double &gt; &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a7719c85cf11d180023fa955ec86a4204">CalcMaxLengthFunc</a></td></tr>
<tr class="separator:a7719c85cf11d180023fa955ec86a4204 inherit pub_types_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b924d2ef2001967702e892322b135e1 inherit pub_types_classInitSparseConnectivitySnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; std::vector&lt; unsigned int &gt;const std::vector&lt; double &gt; &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d9f/classInitSparseConnectivitySnippet_1_1Base.html#a5b924d2ef2001967702e892322b135e1">CalcKernelSizeFunc</a></td></tr>
<tr class="separator:a5b924d2ef2001967702e892322b135e1 inherit pub_types_classInitSparseConnectivitySnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classSnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classSnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../db/d97/classSnippet_1_1Base.html">Snippet::Base</a></td></tr>
<tr class="memitem:a06cd0f6da1424a20163e12b6fec62519 inherit pub_types_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a06cd0f6da1424a20163e12b6fec62519">StringVec</a></td></tr>
<tr class="separator:a06cd0f6da1424a20163e12b6fec62519 inherit pub_types_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ece29884e2c6cabffe9abf985807c6 inherit pub_types_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../dd/d5d/structSnippet_1_1Base_1_1EGP.html">EGP</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a43ece29884e2c6cabffe9abf985807c6">EGPVec</a></td></tr>
<tr class="separator:a43ece29884e2c6cabffe9abf985807c6 inherit pub_types_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0156727ddf8f9c9cbcbc0d3d913b6b48 inherit pub_types_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../d7/dda/structSnippet_1_1Base_1_1ParamVal.html">ParamVal</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a0156727ddf8f9c9cbcbc0d3d913b6b48">ParamValVec</a></td></tr>
<tr class="separator:a0156727ddf8f9c9cbcbc0d3d913b6b48 inherit pub_types_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14217cebf11eddffa751a4d5c4792cb inherit pub_types_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../d9/d0c/structSnippet_1_1Base_1_1DerivedParam.html">DerivedParam</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#ad14217cebf11eddffa751a4d5c4792cb">DerivedParamVec</a></td></tr>
<tr class="separator:ad14217cebf11eddffa751a4d5c4792cb inherit pub_types_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classSnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classSnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../db/d97/classSnippet_1_1Base.html">Snippet::Base</a></td></tr>
<tr class="memitem:ae09ab9858d5752c76803fcc876a1ca60 inherit pro_methods_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#ae09ab9858d5752c76803fcc876a1ca60">updateHash</a> (boost::uuids::detail::sha1 &amp;hash) const</td></tr>
<tr class="separator:ae09ab9858d5752c76803fcc876a1ca60 inherit pro_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9c1fd08eadc111d5867a158a33eeea inherit pro_methods_classSnippet_1_1Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#adf9c1fd08eadc111d5867a158a33eeea">validate</a> () const</td></tr>
<tr class="memdesc:adf9c1fd08eadc111d5867a158a33eeea inherit pro_methods_classSnippet_1_1Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate names of parameters etc.  <a href="../../db/d97/classSnippet_1_1Base.html#adf9c1fd08eadc111d5867a158a33eeea">More...</a><br /></td></tr>
<tr class="separator:adf9c1fd08eadc111d5867a158a33eeea inherit pro_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classSnippet_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classSnippet_1_1Base')"><img src="../../closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="../../db/d97/classSnippet_1_1Base.html">Snippet::Base</a></td></tr>
<tr class="memitem:a971c6611ab5994a31d6f21badb54c975 inherit pro_static_methods_classSnippet_1_1Base"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a971c6611ab5994a31d6f21badb54c975 inherit pro_static_methods_classSnippet_1_1Base"><td class="memTemplItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/d97/classSnippet_1_1Base.html#a971c6611ab5994a31d6f21badb54c975">getNamedVecIndex</a> (const std::string &amp;name, const std::vector&lt; T &gt; &amp;vec)</td></tr>
<tr class="separator:a971c6611ab5994a31d6f21badb54c975 inherit pro_static_methods_classSnippet_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initialises connectivity with a total number of random synapses. The first stage in using this connectivity is to determine how many of the total synapses end up in each row. This can be determined by sampling from the multinomial distribution. However, this operation cannot be efficiently parallelised so must be performed on the host and the result passed as an extra global parameter array.</p>
<p>Once the length of each row is determined, the postsynaptic targets of the synapses can be initialised in parallel by sampling from the discrete uniform distribution. However, to sample connections in ascending order, we sample from the 1st order statistic of the uniform distribution &ndash; Beta[1, Npost] &ndash; essentially the next smallest value. In this special case this is equivalent to the exponential distribution which can be sampled in constant time using the inversion method. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa6c0a2e7d4e42942d3f8330100c2b375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c0a2e7d4e42942d3f8330100c2b375">&#9670;&nbsp;</a></span>DECLARE_SNIPPET()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::DECLARE_SNIPPET </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac53fe67e14bdbd968a8544297a67201a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53fe67e14bdbd968a8544297a67201a">&#9670;&nbsp;</a></span>getExtraGlobalParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a43ece29884e2c6cabffe9abf985807c6">EGPVec</a> InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::getExtraGlobalParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets names and types (as strings) of additional per-population parameters for the snippet </p>

<p>Reimplemented from <a class="el" href="../../db/d97/classSnippet_1_1Base.html#acae8a5d250c2b75e8c5e1ec944cbe314">Snippet::Base</a>.</p>

</div>
</div>
<a id="adf8132e22b41f3db4e020a154ecb10aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8132e22b41f3db4e020a154ecb10aa">&#9670;&nbsp;</a></span>getParamNames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../db/d97/classSnippet_1_1Base.html#a06cd0f6da1424a20163e12b6fec62519">StringVec</a> InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::getParamNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets names of of (independent) model parameters. </p>

<p>Reimplemented from <a class="el" href="../../db/d97/classSnippet_1_1Base.html#aad4f3bb00c5f29cb9d0e3585db3f4e20">Snippet::Base</a>.</p>

</div>
</div>
<a id="a86200bb64b2dc0bae13735fa8a311cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86200bb64b2dc0bae13735fa8a311cc5">&#9670;&nbsp;</a></span>SET_CALC_MAX_COL_LENGTH_FUNC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::SET_CALC_MAX_COL_LENGTH_FUNC </td>
          <td>(</td>
          <td class="paramtype">[] (unsigned int numPre, unsigned int numPost, const std::vector&lt; double &gt; &amp;pars) { const double quantile=pow(0.9999, 1.0/(double) numPost);return <a class="el" href="../../d6/d24/binomial_8cc.html#a620a939ae672f5750398dcfa48e288be">binomialInverseCDF</a>(quantile,(unsigned int) pars[0],(double) numPre/((double) numPre *(double) numPost));}&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2689ac6fa54fc27788211df703f7cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2689ac6fa54fc27788211df703f7cc4">&#9670;&nbsp;</a></span>SET_CALC_MAX_ROW_LENGTH_FUNC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::SET_CALC_MAX_ROW_LENGTH_FUNC </td>
          <td>(</td>
          <td class="paramtype">[] (unsigned int numPre, unsigned int numPost, const std::vector&lt; double &gt; &amp;pars) { const double quantile=pow(0.9999, 1.0/(double) numPre);return <a class="el" href="../../d6/d24/binomial_8cc.html#a620a939ae672f5750398dcfa48e288be">binomialInverseCDF</a>(quantile,(unsigned int) pars[0],(double) numPost/((double) numPre *(double) numPost));}&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aac6ac73f77079773a45f7542fc642cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6ac73f77079773a45f7542fc642cca">&#9670;&nbsp;</a></span>SET_HOST_INIT_CODE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::SET_HOST_INIT_CODE </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a604326a37737e61daf5d595a0c6716b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a604326a37737e61daf5d595a0c6716b7">&#9670;&nbsp;</a></span>SET_ROW_BUILD_CODE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::SET_ROW_BUILD_CODE </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b78d28269520a28e05111b5ae5704f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b78d28269520a28e05111b5ae5704f1">&#9670;&nbsp;</a></span>SET_ROW_BUILD_STATE_VARS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InitSparseConnectivitySnippet::FixedNumberTotalWithReplacement::SET_ROW_BUILD_STATE_VARS </td>
          <td>(</td>
          <td class="paramtype">{{&quot;x&quot;, &quot;scalar&quot;, 0.0},{&quot;c&quot;, &quot;unsigned int&quot;, &quot;$(preCalcRowLength)[($(id_pre) * $(num_threads)) + $(id_thread)]&quot;}}&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../de/d51/initSparseConnectivitySnippet_8h_source.html">initSparseConnectivitySnippet.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/ddd/namespaceInitSparseConnectivitySnippet.html">InitSparseConnectivitySnippet</a></li><li class="navelem"><a class="el" href="../../da/df7/classInitSparseConnectivitySnippet_1_1FixedNumberTotalWithReplacement.html">FixedNumberTotalWithReplacement</a></li>
    <li class="footer">Generated on Mon Nov 22 2021 17:37:58 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
<script type="text/javascript">
//<![CDATA[
addLanguageToggleButtons();
//]]>
</script>
</body>
</html>
