<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>GeNN: Quickstart</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../multi-language-utils.js"></script>
<!--This is Google Analytics Tracking Code-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57354659-1', 'auto');
  ga('send', 'pageview');
</script>
<!--End of Google Analytics Tracking Code-->
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="../../html_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;" id="projectlogo"><img alt="Logo" src="../../GeNN-logo-55px.gif"/></td>
  <td style="padding-left: 3.5em; padding-bottom: 0.5em;">
   <div id="projectname">GeNN
   &#160;<span id="projectnumber">4.8.1</span>
   </div>
   <div id="projectbrief">GPU enhanced Neuronal Networks (GeNN)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/d98/Quickstart.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Quickstart </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>GeNN is based on the idea of code generation for the code that simulates neuronal network models, either on GPU or CPU. At the same time, it leaves a lot of freedom to users, how to use the generated code in their final applications. To facilitate the use of GeNN on the background of this philosophy, it comes with a number of complete examples containing both the model description code that is used by GeNN for code generation and the "user side code" to run the generated model as well as save the results. Some of the example models, such as the <a class="el" href="../../d9/d61/Examples.html#ex_mbody">Insect olfaction model</a>, uses a <code>generate_run</code> executable which automates the building and simulation of the model. Using these executables, running the complete examples should be achievable in a few minutes. The necessary steps are described below.</p>
<h1><a class="anchor" id="example"></a>
Running an Example Model</h1>
<h2><a class="anchor" id="unix_quick"></a>
Unix</h2>
<p>In order to build the <code>generate_run</code> executable as well as other additional tools required for the model, open a shell and navigate to the <code>userproject/MBody1_project</code> directory. Then type </p><div class="fragment"><div class="line">make</div></div><!-- fragment --><p> to generate an executable that you can invoke with </p><div class="fragment"><div class="line">./generate_run test1</div></div><!-- fragment --><p> or, if you don't have an NVIDIA GPU and are running GeNN in CPU_ONLY mode, you can instead invoke this executable with </p><div class="fragment"><div class="line">./generate_run --cpu-only test1</div></div><!-- fragment --><h2><a class="anchor" id="windows_quick"></a>
Windows</h2>
<p>While GeNN can be used from within Visual Studio, in this example we will use a <code>cmd</code> window. Open a Visual Studio <code>cmd</code> window via Start: All Programs: Visual Studio: Tools: x86 Native Tools Command Prompt, and navigate to the <code>userproject\tools</code> directory. Then compile the additional tools and the <code>generate_run</code> executable for creating and running the project: </p><div class="fragment"><div class="line">msbuild ..\userprojects.sln /t:generate_mbody1_runner /p:Configuration=Release</div></div><!-- fragment --><p> to generate an executable that you can invoke with </p><div class="fragment"><div class="line">generate_run test1</div></div><!-- fragment --><p> or, if you don't have an NVIDIA GPU and are running GeNN in CPU_ONLY mode, you can instead invoke this executable with </p><div class="fragment"><div class="line">generate_run --cpu-only test1</div></div><!-- fragment --><h2><a class="anchor" id="quick_visualising"></a>
Visualising results</h2>
<p>These steps build and simulate a model of the locust olfactory system with default parameters of 100 projection neurons, 1000 Kenyon cells, 20 lateral horn interneurons and 100 output neurons in the mushroom body lobes. </p><dl class="section note"><dt>Note</dt><dd>If the model isn't build in CPU_ONLY mode it will be simulated on an automatically chosen GPU.</dd></dl>
<p>The generate_run executable generates input patterns and writes them to a file, compiles and runs the model using these files as inputs and finally output the resulting spiking activity. For more information of the options passed to this command see the <a class="el" href="../../d9/d61/Examples.html#ex_mbody">Insect olfaction model</a> section. The results of the simulation can be plotted with </p><div class="fragment"><div class="line">python plot.py test1</div></div><!-- fragment --><p>The MBody1 example is already a highly integrated example that showcases many of the features of GeNN and how to program the user-side code for a GeNN application. More details in the <a class="el" href="../../dc/d05/UserManual.html">User Manual </a>.</p>
<h1><a class="anchor" id="how_to"></a>
How to use GeNN for new C++ projects</h1>
<p>Creating and running projects in GeNN involves a few steps ranging from defining the fundamentals of the model, inputs to the model, details of the model like specific connectivity matrices or initial values, running the model, and analyzing or saving the data.</p>
<p>GeNN code is generally created by passing the C++ model file (see <a class="el" href="../../d7/d98/Quickstart.html#ownmodel">below</a>) directly to the genn-buildmodel script. Another way to use GeNN is to create or modify a script or executable such as <code>userproject/MBody1_project/generate_run.cc</code> that wraps around the other programs that are used for each of the steps listed above. In more detail, the GeNN workflow consists of:</p>
<ol type="1">
<li>Either use external programs to generate connectivity and input files to be loaded into the user side code at runtime or generate these matrices directly inside the user side code.</li>
<li>Generating the model simulation code using <code>genn-buildmodel.sh</code> (On Linux or Mac) or <code>genn-buildmodel.bat</code> (on Windows). For example, inside the <code>generate_run</code> engine used by the MBody1_project, the following command is executed on Linux: <div class="fragment"><div class="line">genn-buildmodel.sh MBody1.cc</div></div><!-- fragment --> or, if you don't have an NVIDIA GPU and are running GeNN in CPU_ONLY mode, the following command is executed: <div class="fragment"><div class="line">genn-buildmodel.sh -c MBody1.cc</div></div><!-- fragment --> The <code>genn-buildmodel</code> script compiles the GeNN code generator in conjunction with the user-provided model description <code>model/MBody1.cc</code>. It then executes the GeNN code generator to generate the complete model simulation code for the model.</li>
<li>Provide a build script to compile the generated model simulation and the user side code into a simulator executable (in the case of the MBody1 example this consists the file <code>MBody1Sim.cc</code>). On Linux or Mac a suitable GNU makefile can be created by running: <div class="fragment"><div class="line">genn-<a class="code" href="../../df/d40/namespaceSpineMLSimulator_1_1Connectors.html#af06aa90e9c8dccddaece647a4c0834de">create</a>-user-project.sh MBody1 MBody1Sim.cc</div></div><!-- fragment --> And on Windows an MSBuild project can be created by running: <div class="fragment"><div class="line">genn-<a class="code" href="../../df/d40/namespaceSpineMLSimulator_1_1Connectors.html#af06aa90e9c8dccddaece647a4c0834de">create</a>-user-project.bat MBody1 MBody1Sim.cc</div></div><!-- fragment --></li>
<li>Compile the simulator executable by invoking GNU make on Linux or Mac: <div class="fragment"><div class="line">make clean all</div></div><!-- fragment --> or MSbuild on Windows: <div class="fragment"><div class="line">msbuild MBody1.sln /t:MBody1 /p:Configuration=Release</div></div><!-- fragment --></li>
<li>Finally, run the resulting stand-alone simulator executable. In the MBody1 example, this is called <code>MBody1</code> on Linux and <code>MBody1_Release.exe</code> on Windows.</li>
</ol>
<h1><a class="anchor" id="ownmodel"></a>
Defining a new model in GeNN using C++</h1>
<p>According to the work flow outlined above, there are several steps to be completed to define a neuronal network model.</p>
<ol type="1">
<li>The neuronal network of interest is defined in a model definition file, e.g. <code>Example1.cc</code>.</li>
<li><p class="startli">Within the the model definition file <code>Example1.cc</code>, the following tasks need to be completed:</p>
<p class="startli">a) The GeNN file <code><a class="el" href="../../dc/de1/modelSpec_8h.html" title="Header file that contains the class (struct) definition of neuronModel for defining a neuron model an...">modelSpec.h</a></code> needs to be included, </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dc/de1/modelSpec_8h.html">modelSpec.h</a>&quot;</span></div></div><!-- fragment --><p class="startli">b) The values for initial variables and parameters for neuron and synapse populations need to be defined, e.g. </p><div class="fragment"><div class="line"><a class="code" href="../../db/dbb/classSnippet_1_1InitialiserContainerBase.html">NeuronModels::PoissonNew::ParamValues</a> poissonParams(</div><div class="line">  10.0);      <span class="comment">// 0 - firing rate</span></div></div><!-- fragment --><p> would define the (homogeneous) parameters for a population of Poisson neurons. </p><dl class="section note"><dt>Note</dt><dd>The number of required parameters and their meaning is defined by the neuron or synapse type. Refer to the <a class="el" href="../../dc/d05/UserManual.html">User Manual </a> for details. We recommend, however, to use comments like in the above example to achieve maximal clarity of each parameter's meaning.</dd></dl>
<p>If heterogeneous parameter values are required for a particular population of neurons (or synapses), they need to be defined as "variables" rather than parameters. See the <a class="el" href="../../dc/d05/UserManual.html">User Manual </a> for how to define new neuron (or synapse) types and the <a class="el" href="../../d4/dc6/sectVariableInitialisation.html#sect_new_var_init">Defining a new variable initialisation snippet</a> section for more information on initialising these variables to hetererogenous values.</p>
<p class="startli">c) The actual network needs to be defined in the form of a function <code>modelDefinition</code>, i.e. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> modelDefinition(<a class="code" href="../../da/dfd/classModelSpec.html">ModelSpec</a> &amp;model); </div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The name <code>modelDefinition</code> and its parameter of type <code><a class="el" href="../../da/dfd/classModelSpec.html" title="Object used for specifying a neuronal network model. ">ModelSpec</a>&amp;</code> are fixed and cannot be changed if GeNN is to recognize it as a model definition.</dd></dl>
<p>d) Inside modelDefinition(), The time step <code>DT</code> needs to be defined, e.g. </p><div class="fragment"><div class="line">model.setDT(0.1);</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>All provided examples and pre-defined model elements in GeNN work with units of mV, ms, nF and uS. However, the choice of units is entirely left to the user if custom model elements are used.</dd></dl>
<p><code>MBody1.cc</code> shows a typical example of a model definition function. In its core it contains calls to <a class="el" href="../../da/dfd/classModelSpec.html#ad990a7f4af4616daf1ba633133616269" title="Adds a new neuron group to the model using a neuron model managed by the user. ">ModelSpec::addNeuronPopulation</a> and <a class="el" href="../../da/dfd/classModelSpec.html#abd4e9128a5d4f5f993907134218af0c2" title="Adds a synapse population to the model using weight update and postsynaptic models managed by the use...">ModelSpec::addSynapsePopulation</a> to build up the network. For a full range of options for defining a network, refer to the <a class="el" href="../../dc/d05/UserManual.html">User Manual</a>.</p>
</li>
<li><p class="startli">The programmer defines their own "simulation" code similar to the code in <code>userproject/MBody1_project/model/MBody1Sim.cc</code>. In this code,</p>
<p class="startli">a) They can manually define the connectivity matrices between neuron groups. Refer to the <a class="el" href="../../d5/d39/subsect34.html">Synaptic matrix types</a> section for the required format of connectivity matrices for dense or sparse connectivities.</p>
<p class="startli">b) They can define input patterns or individual initial values for neuron and / or synapse variables. </p><dl class="section note"><dt>Note</dt><dd>The initial values or initialisation "snippets" given in the <code>modelDefinition</code> are automatically applied.</dd></dl>
<p>c) They use <code>stepTime()</code> to run one time step on either the CPU or GPU depending on the options passed to genn-buildmodel.</p>
<p class="startli">d) They use functions like <code>copyStateFromDevice()</code> etc to transfer the results from GPU calculations to the main memory of the host computer for further processing.</p>
<p class="startli">e) They analyze the results. In the most simple case this could just be writing the relevant data to output files.</p>
</li>
</ol>
<h1><a class="anchor" id="ownmodel_python"></a>
Defining a new model in GeNN using Python</h1>
<p>There are several steps to be completed to define a neuronal network model.</p><ol type="1">
<li>The neuronal network of interest is defined in a script, e.g. <code>Example1.py</code>.</li>
<li><p class="startli">Within the the script <code>Example1.py</code>, the following tasks need to be completed:</p>
<p class="startli">a) Required PyGeNN classes needs to be imported, </p><div class="fragment"><div class="line">from <a class="code" href="../../da/d6d/namespacepygenn.html">pygenn</a>.<a class="code" href="../../de/d6e/namespacepygenn_1_1genn__model.html">genn_model</a> <span class="keyword">import</span> GeNNModel</div></div><!-- fragment --><p class="startli">b) The values for initial variables and parameters for neuron and synapse populations need to be defined, e.g. </p><div class="fragment"><div class="line">poisson_params = {<span class="stringliteral">&quot;rate&quot;</span>: 10.0}</div></div><!-- fragment --><p> would define the (homogeneous) parameters for a population of Poisson neurons. </p><dl class="section note"><dt>Note</dt><dd>The names of required parameters and their meaning is defined by the neuron or synapse type. Refer to the <a class="el" href="../../dc/d05/UserManual.html">User Manual </a> for details.</dd></dl>
<p>If heterogeneous parameter values are required for a particular population of neurons (or synapses), they need to be defined as "variables" rather than parameters. See the <a class="el" href="../../dc/d05/UserManual.html">User Manual </a> for how to define new neuron (or synapse) types and the <a class="el" href="../../d4/dc6/sectVariableInitialisation.html#sect_new_var_init">Defining a new variable initialisation snippet</a> section for more information on initialising these variables to hetererogenous values.</p>
<p class="startli">c) A pygenn.GeNNModel object needs to be created and the floating point precision to use should be set (see <a class="el" href="../../d0/da6/UserGuide.html#floatPrecision">Floating point precision</a> for more information on floating point precision), i.e. </p><div class="fragment"><div class="line">model = GeNNModel(<span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;example&quot;</span>)</div></div><!-- fragment --><p class="startli">d) The model's simulation time step <code>DT</code> needs to be defined, e.g. </p><div class="fragment"><div class="line">model.dT = 0.1</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>All provided examples and pre-defined model elements in GeNN work with units of mV, ms, nF and muS. However, the choice of units is entirely left to the user if custom model elements are used.</dd></dl>
<p>For a full range of options for defining a network, refer to the <a class="el" href="../../dc/d05/UserManual.html">User Manual</a>.</p>
</li>
<li>Within the same script, the programmer builds the model &ndash; running the GeNN code generator &ndash; and loads it into Python, i.e. <div class="fragment"><div class="line">model.build()</div><div class="line">model.load()</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>If the model isn't changed, <a class="el" href="../../db/d57/classpygenn_1_1genn__model_1_1GeNNModel.html#a860896623fb19b828a4ffa17bd664d08" title="Finalize and build a GeNN model. ">pygenn.GeNNModel.build</a> doesn't need to be called.</dd></dl>
</li>
<li><p class="startli">Also, within the same script, the programmer defines their own "simulation" code. In this code,</p>
<p class="startli">a) They can manually define the connectivity matrices between neuron groups. Refer to the <a class="el" href="../../d5/d39/subsect34.html">Synaptic matrix types</a> section for the required format of connectivity matrices for dense or sparse connectivities.</p>
<p class="startli">b) They can define input patterns or individual initial values for neuron and / or synapse variables. </p><dl class="section note"><dt>Note</dt><dd>The initial values or initialisation "snippets" specified when defining the model are automatically applied.</dd></dl>
<p>c) They use <a class="el" href="../../db/d57/classpygenn_1_1genn__model_1_1GeNNModel.html#a6d71c8d91805b64c5a69fc62ea3dfbdb" title="Make one simulation step. ">pygenn.GeNNModel.step_time()</a> to run one time step on either the CPU or GPU depending on the available hardware.</p>
<p class="startli">d) They use functions like <a class="el" href="../../d1/db3/classpygenn_1_1genn__groups_1_1Group.html#ab075765fe8c89bd2f1285a0beccf8675" title="Wrapper around GeNNModel.pull_state_from_device. ">pygenn.genn_groups.Group.pull_state_from_device</a> etc to transfer the results from GPU calculations to the main memory of the host computer for further processing.</p>
<p class="startli">e) They analyze the results. In the most simple case this could involve plotting it from within the script using Matplotlib. <br />
 </p><hr/>
<p> <a class="el" href="../../d8/d99/Installation.html">Previous</a> | <a class="el" href="../../d7/d98/Quickstart.html">Top</a> | <a class="el" href="../../d9/d61/Examples.html">Next</a> </p>
</li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Apr 21 2023 16:20:24 for GeNN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
<script type="text/javascript">
//<![CDATA[
addLanguageToggleButtons();
//]]>
</script>
</body>
</html>
